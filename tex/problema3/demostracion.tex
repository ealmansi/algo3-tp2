Como dijimos anteriormente lo que se busca en encontrar un camino de mínimas aristas entre el casillero de entrada con $k_{max}$ osea el estado $(x_e,y_e,k_{max})$ hasta la salida sin importar las unidades de potencia restante, osea $(x_s,y_s,i)$ para algún i.

Como sabemos si realizamos BFS desde un nodo v en el grafo G, para cada nodo u $\in$ G, encuentra el camino de mínimas aristas entre v y u. Por eso al aplicar BFS desde $(x_e,y_e,k_{max})$ encontramos el camino de mínimas aristas entre él y la salida. Lo único que queda hacer es elegir entre los caminos mínimos de los estados  $(x_s,y_s,i)$ cual es el que tiene menos aristas y esa es la solución. 